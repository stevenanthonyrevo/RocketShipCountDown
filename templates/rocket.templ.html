<!doctype html>
<html lang="en">
<head>
</head>
<body>
<center>
<h1>Rocketship Launching Count Down {{.timestamp}}</h1>
<!-- Display the live countdown value -->
<img src="/static/img/gopher.jpeg" alt="W3Schools.com"> 
</center>
<script>
"use strict";

// Function to establish a WebSocket connection
function socketConnect() {
    // Create a WebSocket connection to the server
    const url = new URL('./socket', location.href);
    url.protocol = url.protocol.replace('http', 'ws');
    let socket = new WebSocket(url);
    // Handle incoming messages from the server
    socket.onmessage = function(event) {
        // Update the countdown value on the HTML page
        document.getElementsByTagName("h1")[0].innerHTML = `Rocketship Launching Count Down ${event.data}`;
    };

    // Reconnect to the WebSocket every 5 seconds
    setTimeout(socketConnect, 5000);
}

// Initialize the WebSocket connection
socketConnect();

</script>
</body>
</html>
